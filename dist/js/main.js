!function(e){!!window.ActiveXObject&&!window.XMLHttpRequest;e(function(){var a=e("html"),t=e("#username"),n=e("#swiper-responsive"),l=e("#js-counter");Mobilebone.callback=function(e){"page-tests"===e.id&&(n.data("swiper").reInit(),n.data("swiper").swipeTo(0)),"page-home"===e.id?a.addClass("home"):a.removeClass("home")},t.on("keyup",function(){var a=e(this).next("a"),t=e.trim(this.value);a[t?"removeClass":"addClass"]("disabled"),t?a.removeClass("bounceOutUp").addClass("animated bounceInDown"):a.removeClass("bounceInDown").addClass("animated bounceOutUp")}).on("blur",function(){this.value=e.trim(this.value)}).trigger("keyup"),e("#page-home").on("click","a.disabled",function(){return!1}),n[0].innerHTML=template("tests",tests),n.swiper({simulateTouch:!1,onFirstInit:function(a){var t=a.slides.length,n=a.activeIndex+1,i=t-n;l.children(".current").html(n),l.children(".left").html(i),l.children(".total").html(t),e(a.container).removeClass("fn-vh")},onSlideChangeEnd:function(e){var a=e.activeIndex+1,t=e.slides.length-a;l.children(".current").html(a),l.children(".left").html(t)}}).on("click",".swiper-nav a",function(a){e(a.delegateTarget).data("swiper").swipeNext()}).on("change","label",function(){var a=e(this),l=(a.parents(".swiper-slide"),n.data("swiper"));if(l.activeIndex===l.slides.length-1){var i=n.find("input:checked");window.location.hash="#&page-chart";var s=echarts.init(document.getElementById("chart")),r=t.val(),o={},c=["D","F","C","E","H","B","I","J","A"];return e.each(c,function(e,a){o[a]=i.filter("[value="+a+"]").length||0}),s.setOption({title:{text:r+"的九型人格测试图表",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:["1号: "+o[c[0]],"2号: "+o[c[1]],"3号: "+o[c[2]],"4号: "+o[c[3]],"5号: "+o[c[4]],"6号: "+o[c[5]],"7号: "+o[c[6]],"8号: "+o[c[7]],"9号: "+o[c[8]]]},toolbox:{show:!0,feature:{mark:{show:!1},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left",max:1548}}},restore:{show:!0},saveAsImage:{show:!1}}},series:[{name:"详细测试结果",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:o[c[0]],label:"xx",name:"1号: "+o[c[0]]},{value:o[c[1]],label:"label",name:"2号: "+o[c[1]]},{value:o[c[2]],label:"label",name:"3号: "+o[c[2]]},{value:o[c[3]],label:"label",name:"4号: "+o[c[3]]},{value:o[c[4]],label:"label",name:"5号: "+o[c[4]]},{value:o[c[5]],label:"label",name:"6号: "+o[c[5]]},{value:o[c[6]],label:"label",name:"7号: "+o[c[6]]},{value:o[c[7]],label:"label",name:"8号: "+o[c[7]]},{value:o[c[8]],label:"label",name:"9号: "+o[c[8]]}]}]}),void 0}a.parent().animate({right:"-50px"},500,function(){e(this).css("right","auto"),l.swipeNext()})}),e("#page-chart").on("click",".content > a",function(){n.find(":radio").prop("checked",!1)})})}(jQuery);