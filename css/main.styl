/*! Main Style by Steven 2014-8-1 */

support-for-ie = false

@import 'nib'
@import 'wcss'

/* Var
============================================================================= */
fonts = 'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif
tests-width = 580px

/* Reset
============================================================================= */
*
*:before
*:after
  box-sizing border-box

::-moz-selection
::selection
  text-shadow none
  color #fff
  background #b3d4fc

html
  height 100%
  font-size 62.5%
  // background #EFEFEF url(../img/bg.png) fixed
  background #f7f7f7

body
  font-family fonts
  font-size 1.2rem
  line-height 1.4
  color #333
  // user-select none
  // -ms-touch-action none

// a
// img
//   -webkit-touch-callout none

a
  color inherit
  text-decoration none

a:hover
  color inherit
  text-decoration underline

a:focus
  outline thin dotted
  outline 5px auto -webkit-focus-ring-color
  outline-offset -2px

mark
  color #333
  background #ffa

// A hack for HTML5 contenteditable attribute on mobile
textarea[contenteditable]
  appearance none

/* Helper
========================================================================== */
// Helper from HTML5 Boilerplate
.nocallout
  -webkit-touch-callout none

.pressed
  background-color rgba(0, 0, 0, .7)

.gifhidden
  position absolute
  left -100%

.invisible
  visibility hidden

// 排版
.img-responsive
  display block
  height auto
  max-width 100%

.img-rounded
  border-radius 6px

.img-thumbnail
  display inline-block
  height auto
  max-width 100%
  padding 4px
  line-height 1.42857143
  background-color #fff
  border 1px solid #ddd
  border-radius 4px
  -webkit-transition all 0.2s ease-in-out
  transition all 0.2s ease-in-out

.img-circle
  border-radius 50%

hr
.hr
  clear both
  margin 10px 0
  border 0
  border-top 1px solid #eee

.highlight
  color red !important

.fn-tl
  text-align left !important

.fn-tc
  text-align center !important

.fn-tr
  text-align right !important

.fn-tj
  text-align justify !important

.fn-nowrap
  white-space nowrap !important

.fn-brk
  word-wrap break-word !important

.fn-lowercase
  fn-transform lowercase !important

.fn-uppercase
  fn-transform uppercase !important

.fn-capitalize
  text-transform capitalize !important

.fn-dn
.js-hide
  display none !important

.fn-di
  display inline !important

.fn-db
  display block !important

.fn-dib
  display inline-block !important

.fn-vh
  visibility hidden !important

.fn-fly
  margin-left auto !important
  margin-right auto !important

.f0
  font-size 0 !important

.p0
  padding 0 !important

.m0
  margin 0 !important

.mt0
  margin-top 0 !important

.mb0
  margin-bottom 0 !important

// 遮罩层
.fn-mask
  display none
  fixed top left bottom right
  z-index 111
  background rgba(0, 0, 0, .4)

// js placeholder
.placeholder
  color #A6A6A6 !important

// AD
.ad
  margin 10px auto
  overflow hidden
  text-align center
  background #f8f8f8

  > a
    display block

    > img
      width 100%

/* Plugin
========================================================================== */
// js-slider 模块 for swipe.js
.w-slider
  position relative
  overflow hidden
  visibility hidden

  > .slider-cnt
    position relative
    overflow hidden

    > .slider-item
      position relative
      float left
      width 100%

// swiper 模块 for swiper.js
.swiper
  margin 0 auto
  position relative
  overflow hidden
  backface-visibility hidden
  z-index 1 // Fix of Webkit flickering

  > .swiper-wrapper
    // box-sizing content-box
    position relative
    width 100%
    transition-property transform, left, top
    transition-duration 0s
    transform translate3d(0px,0,0)
    transition-timing-function ease

    > .swiper-slide
      // box-sizing content-box
      float left

  &.swiper-free-mode > .swiper-wrapper
    transition-timing-function ease-out
    margin 0 auto

  // IE10 Windows Phone 8 Fixes
  &.swiper-wp8-horizontal
    -ms-touch-action pan-y

  &.swiper-wp8-vertical
    -ms-touch-action pan-x

html.mobilebone
  &
  body
  body > .page
    height 100%
    width 100%
    overflow hidden

    > .page
      position absolute
      left 0
      top 0
      animation .35s ease-in-out

      &.out
        display none
        transform translateX(-100%)

      &.in
        transform translateX(0)

    // mask layer when ajax sending...
    > .mask
      position absolute
      z-index 9
      height 100%
      width 100%
      background-color rgba(255, 255, 255, .35)

      // more info http://www.zhangxinxu.com/wordpress/?p=3357
      > .loading
        position absolute
        top 0
        right 0
        bottom 0
        left 0
        margin auto
        width 3px
        height 3px
        border-radius 100%
        box-shadow 0 -10px 0 1px currentColor, /* top, 1px expand */ 10px 0px currentColor, /* right */ 0 10px currentColor, /* bottom */ -10px 0 currentColor, /* left */ -7px -7px 0 .5px currentColor, /* left-top, 0.5px expand */ 7px -7px 0 1.5px currentColor, /* right-top, 1.5px expand */ 7px 7px currentColor, /* right-bottom */ -7px 7px currentColor /* left-bottom */
        animation loading 1s step-start infinite /* center */

    // Default animation - slide, you can visit '/test/transition/aniamte.css' to get more styles of animation
    > .slide
      &.in
        animation-name slideinfromright

      &.out
        animation-name slideouttoleft

      &.reverse.out
        animation-name slideouttoright

      &.reverse.in
        animation-name slideinfromleft

@keyframes slideinfromright
  from
    transform translateX(100%)
  to
    transform translateX(0)

@keyframes slideinfromright
  from
    transform translateX(100%)
  to
    transform translateX(0)

@keyframes slideinfromleft
  from
    transform translateX(-100%)
  to
    transform translateX(0)

@keyframes slideinfromleft
  from
    transform translateX(-100%)
  to
    transform translateX(0)

@keyframes slideouttoleft
  from
    transform translateX(0)
  to
    transform translateX(-100%)

@keyframes slideouttoleft
  from
    transform translateX(0)
  to
    transform translateX(-100%)

@keyframes slideouttoright
  from
    transform translateX(0)
  to
    transform translateX(100%)

@keyframes slideouttoright
  from
    transform translateX(0)
  to
    transform translateX(100%)

// chrysanthemum loading effect
@keyframes loading
  0%
    transform rotate(0deg)
  12%
    transform rotate(45deg)
  25%
    transform rotate(90deg)
  37%
    transform rotate(135deg)
  50%
    transform rotate(180deg)
  63%
    transform rotate(225deg)
  75%
    transform rotate(270deg)
  87%
    transform rotate(315deg)
  90%
    transform rotate(360deg)

@keyframes loading
  0%
    transform rotate(0deg)
  12%
    transform rotate(45deg)
  25%
    transform rotate(90deg)
  37%
    transform rotate(135deg)
  50%
    transform rotate(180deg)
  63%
    transform rotate(225deg)
  75%
    transform rotate(270deg)
  87%
    transform rotate(315deg)
  90%
    transform rotate(360deg)

/* TPL
========================================================================== */
// w-recommend 模块

/* Layout
========================================================================== */
// Common
html.mobilebone body
  > .header
  > .footer
  > .content
    position absolute
    left 0
    right 0

  > .footer
    z-index 1
    bottom 0
    height 30px
    line-height 30px

  > .content
    top 0
    bottom 30px
    overflow auto
    -webkit-overflow-scrolling touch
    background #ccc

// Header
#header
  position relative
  z-index 1
  min-height 32px
  overflow hidden
  color #fff
  background #333

  > nav
    margin 0 auto
    width 960px

    > h1
      float left
      padding 0 10px
      line-height 32px
      font-size 18px
      font-weight normal

    > ul
      float right
      font-weight bold
      color #fff

      > li
        float left
        padding 0 20px
        height 32px
        line-height 32px
        text-shadow 0 0 5px rgba(255, 255, 255, 0.3)

        > a
          display block
          height 32px
          line-height 32px
          color #888
          text-shadow none

        > a:hover
        > a:focus
          color #ddd

// Footer
#footer
  // display none
  // position absolute
  // bottom 0
  // left 0
  // width 100%
  text-align center
  transition 1s

// Home Page
#page-home
  height 100%
  background url(../img/bg-home.jpg) 50% 50% no-repeat
  background-size cover

  > .content
    height 100%
    padding 6% 0 0
    text-align center
    color #fff
    background rgba(0, 0, 0, .75)
    vertical-align middle

    > h1
      font-size 30px
      -webkit-box-reflect below -0.5555em -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(0.3, transparent), color-stop(0.7, rgba(255, 255, 255, 0.1)), to(transparent))
      -moz-box-reflect below -0.5555em -moz-linear-gradient(top, transparent 0%, transparent 30%, rgba(255, 255, 255, 0.3) 100%)

    > p
      width 80%
      margin 20px auto
      font-size 1.6rem

    > input
      display block
      margin 3rem auto 2em
      padding .3em 1em
      width 15em
      border 0
      border-bottom 1px #fff solid
      outline none
      text-align center
      color #fff
      font-size 1.6rem
      background-color transparent

    > a
      display inline-block
      margin-top 2rem
      padding .6em 3em
      border 1px #fff solid
      font-size 1.3em
      text-decoration none

      &.disabled
        opacity .4
        cursor default

html.home #footer
  color #fff

// Tests Page
#page-tests > .content
  > h1
    @extend #page-home > .content > h1
    margin 15px 0 30px
    text-align center
    font-size 28px
    color #000

  > h2
    display none

  > summary
    margin 15px auto
    padding 10px
    width tests-width
    text-align center
    border-radius 2px
    background #ececec

    > strong
      color red

// Chart Page
#page-chart > .content
  text-align center

  > h1
    @extend #page-home > .content > h1
    margin 15px 0 25px
    font-size 28px
    color #000

  // Echart
  #chart
    margin 0 15px
    height 400px

  // canvas
  // display block
  // margin 0 auto
  // width 300px
  // height 300px

  > a
    display inline-block
    margin-top 3rem
    padding .6em 3em
    border 1px #999 solid
    color #000
    font-size 1.3em
    text-decoration none

// Swiper
#swiper-responsive
  height 200px
  // outline 1px solid #0f0

  .swiper-slide
    width 100vw

  .swiper-slide-active
    /* Specific active slide styling */

  .swiper-slide-visible
    /* Specific visible slide styling */
    text-align left

  // tests
  .tests
    position relative
    margin 0 auto
    // padding 1em 0
    width tests-width
    // height 60%
    // border-radius 10px
    // box-shadow 1px 3px 6px rgba(0, 0, 0, .2)
    // border 1px #e8e8e8 solid
    // font-size 1.4rem
    // background #fff

    > label
      position relative
      display block
      margin-bottom 2em
      padding 1.2em 1em
      border 1px #e8e8e8 solid
      font-size 1.3rem
      background #fff
      cursor pointer

      input
        vertical-align -2px

      &:before
      &:after
        content ''
        position absolute
        z-index -2
        bottom 15px
        width 50%
        height 20%
        max-width 300px
        box-shadow 0 15px 10px rgba(0, 0, 0, .7)

      &:before
        left 10px
        transform rotate(-3deg)

      &:after
        right 10px
        transform rotate(3deg)

      &:nth-child(odd)
        background #E1FED8

      &:nth-child(even)
        background #F9F9E6

  // Nav
  > .swiper-nav
    // display none
    position absolute
    bottom 20px
    left 0
    width 100%
    text-align center

    > a
      display inline-block
      margin 0 30px
      height 28px
      line-height 26px
      width 100px
      border 1px #333 solid
      font-size 1.4rem
      cursor pointer
      text-decoration none

  // Pagination
  .swiper-pagination
    /* Stylize pagination */

  .swiper-pagination-switch
    /* Stylize pagination button */

  .swiper-active-switch
    /* Specific active button style */

  .swiper-visible-switch
    /* Specific visible button style */